{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["var app = new Vue({\r\n    el: '#quiz-app',\r\n    data: {\r\n        quiz: [],\r\n        index: Math.floor(Math.random() * 10), // Start index\r\n        responseIndex: 0, // Correct Answer\r\n        lifes: 3, // Initial lifes\r\n        coins: Number(localStorage.getItem(\"coins\")), // Initial coins\r\n        hits: 0, // Total of hits\r\n        atualIndex: [],\r\n        timeInit: 0, // Time Init\r\n        time: 0, // Time count\r\n        rank: 0, // Rank\r\n        end: false\r\n    },\r\n    methods: {\r\n        saveIndex: function(index) {\r\n            this.atualIndex.push(index);\r\n        },\r\n        alternateIndex: function(index) {\r\n            this.saveIndex(this.index); \r\n            // Save the atual question\r\n            if(this.atualIndex.length < this.quiz.length) { \r\n                // Checks if the number of questions answered is less than the total number of questions \r\n                while (this.atualIndex.includes(this.index)) {\r\n                    this.index = Math.floor(Math.random() * this.quiz.length); \r\n                    // Get a new question\r\n                }\r\n            }\r\n            if(this.atualIndex.length === this.quiz.length) { \r\n                // Checks whether the number of questions answered equals the total number of questions\r\n                this.playSound('./assets/sounds/start-end/win.wav');\r\n                this.end = true;\r\n            }\r\n        },\r\n        sendResponse: function() {\r\n            if (Number(this.responseIndex) != this.question[\"ans\"]) {\r\n                this.lifes = this.lifes - 1; // Remove 1 life\r\n                this.playSound('./assets/sounds/lifes/loseOne.wav'); // Play Sound\r\n            }\r\n            if (Number(this.responseIndex) == this.question[\"ans\"]) {\r\n                this.hits = this.hits + 1; // Calc total of hits\r\n                this.coins = this.coins + 10; // Add coins\r\n                this.playSound('./assets/sounds/coins/receiveOne.wav'); // Play Sound\r\n            }\r\n            this.playSound('./assets/sounds/buttons/send.wav'); // Play Sound\r\n            this.alternateIndex(); // Alternate index question\r\n        },\r\n        skipResponse: function() {\r\n            this.coins = this.coins - 5; // Add coins\r\n            this.playSound('./assets/sounds/buttons/send.wav'); // Play Sound\r\n            this.alternateIndex(); // Alternate index question\r\n        },\r\n        timer: function() {\r\n            setInterval(() => {\r\n                if (this.time > 0 && this.lifes > 0 && this.end === false) { // If time is greater than zero and If lifes not equal zero\r\n                    return (this.time = this.time - 1); // Subtract 1(one) from the current time\r\n                    }\r\n                }, 1000);\r\n        },\r\n        checkCoins: function() {\r\n            let coins = this.coins;\r\n            if(this.lifes != 0) {\r\n                coins = localStorage.getItem(\"coins\"); // Get in LocalStorage the latest coin update\r\n            }\r\n            if(this.lifes === 0) {\r\n                coins = localStorage.setItem(\"coins\", `${this.coins}`); // Update coins on Local Storage\r\n            }\r\n            return coins;\r\n        },\r\n        checkRank: function() {\r\n            let lifes = this.lifes;\r\n            if (lifes >= 0) { // If lifes is grather or equal zero\r\n                this.rank = localStorage.getItem(\"rank\"); // Get Rank from LocalStorage\r\n            }\r\n            if (this.atualIndex.length - 1 > this.rank) { // If hits are higher than the current rank\r\n                this.rank = this.atualIndex.length; // Get new rank\r\n                localStorage.setItem(\"rank\", `${this.rank}`); // Save new rank\r\n            }\r\n        },\r\n        restartQuiz: function() {\r\n            this.responseIndex = 0; // Reset Response Index\r\n            this.lifes = 3; // Reset Lifes\r\n            this.atualIndex = []; // Reset Atual index\r\n            this.end = false,\r\n            this.playSound('./assets/sounds/start-end/start.wav'); // Play Sound\r\n        },\r\n        helpQuestion: function(coins, event) {\r\n            this.coins = this.coins - 5;\r\n            this.playSound('./assets/sounds/buttons/help.wav');\r\n        },\r\n        playSound: function(sound) {\r\n            var audio = new Audio(sound);\r\n            audio.play();\r\n        }\r\n    },\r\n    computed: {\r\n        question: function() {\r\n            let question = {\r\n                \"title\": \"Aguarde estamos carregando as perguntas\",\r\n                \"op1\": \"Carregando...\",\r\n                \"op2\": \"Carregando...\",\r\n                \"op3\": \"Carregando...\",\r\n                \"op4\": \"Carregando...\",\r\n                \"ans\": 0,\r\n                \"hard\": 1\r\n            };\r\n            this.quiz.length > 0 && (question = this.quiz[this.index]);\r\n            switch(question['hard']) {\r\n                case 1:\r\n                    this.time = 15\r\n                    this.timeInit = 15\r\n                    break;\r\n                case 2:\r\n                    this.time = 20\r\n                    this.timeInit = 20\r\n                    break;\r\n                case 3:\r\n                    this.time = 25\r\n                    this.timeInit = 25\r\n                    break;\r\n                case 4:\r\n                    this.time = 30\r\n                    this.timeInit = 30\r\n                    break;\r\n                default:\r\n                    this.timeInit = 30\r\n                    this.time = 30\r\n            }\r\n            return question;\r\n        },\r\n        progressStyle: function() {\r\n            if(this.time <= 10) {\r\n                className = 'is-error';\r\n                this.playSound('./assets/sounds/time/tenSec.wav');\r\n            } else if (this.time <= 15) {\r\n                className = 'is-warning';\r\n            } else if (this.time >= 16) {\r\n                className = 'is-success';\r\n            }\r\n            return className;\r\n        },\r\n        linkTwitter: function() {\r\n            twitter = 'https://twitter.com/intent/tweet?text=Meu%20record%20no%20%23LittleQuiz%20foi%20de%20' + this.rank + '%20acertos.%20Bora%20tentar?%20https%3A%2F%2Fquiz.littleson.com.br @um_littleson';\r\n            return twitter;\r\n        },\r\n        linkWhatsapp: function() {\r\n            whatsapp = 'https://api.whatsapp.com/send?text=Meu%20record%20no%20%23LittleQuiz%20foi%20de%20' + this.rank + '%20acertos.%20Bora%20tentar?%20https%3A%2F%2Fquiz.littleson.com.br';\r\n            return whatsapp;\r\n        },\r\n    },\r\n    mounted: function() {\r\n        this.timer();\r\n        fetch(\"./data/questions.json\").then(quizResponse => {\r\n            quizResponse.json().then(json => {\r\n                this.quiz = json;\r\n            });\r\n        });\r\n    },\r\n    watch: {\r\n        time: function () {\r\n            if(this.time <= 0 && this.end === false) {\r\n                this.lifes = this.lifes - 1; // Remove 1 life\r\n                this.playSound('./assets/sounds/lifes/loseOne.wav');\r\n                return this.skipResponse(); // Skip to next question\r\n            }\r\n        },\r\n        lifes: function () {\r\n            this.checkRank();\r\n            this.checkCoins();\r\n            if(this.lifes === 0) {\r\n                this.playSound('./assets/sounds/lifes/loseAll.wav');\r\n            }\r\n        },\r\n        coins: function() {\r\n            if(this.coins === 100) {\r\n                this.playSound('./assets/sounds/coins/receiveHundred.wav');\r\n            }\r\n        }\r\n    }\r\n});\r\nVue.config.productionTip = false;\r\n"],"file":"app.js"}